<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Willena Anki Quiz â€“ Full Vocab Version</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f5f5f5;
    padding: 20px;
    display: flex;
    justify-content: center;
  }
  #app {
    width: 100%;
    max-width: 480px;
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, .1);
  }
  h2 {
    text-align: center;
    margin-top: 0;
  }
  .menu button,
  .back-btn {
    width: 100%;
    padding: 14px;
    margin: 6px 0;
    font-size: 18px;
    border: none;
    border-radius: 10px;
    background: #007bff;
    color: white;
  }
  .menu button:hover,
  .back-btn:hover {
    opacity: .9;
  }
  .card-wrapper {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 10px;
  }
  .arrow-btn {
    background: none;
    border: none;
    font-size: 28px;
    padding: 10px;
    cursor: pointer;
  }
  .card {
    padding: 20px;
    background: #e8f7ff;
    font-size: 24px;
    border-radius: 12px;
    min-height: 100px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    flex: 1;
    margin: 0 4px;
  }
  .mode-buttons {
    display: flex;
    gap: 8px;
    margin: 6px 0 12px;
  }
  .mode-btn {
    flex: 1;
    padding: 12px;
    border-radius: 999px;
    border: none;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    background: linear-gradient(135deg, #00bcd4, #3f51b5);
    color: #fff;
    box-shadow: 0 2px 6px rgba(0,0,0,.15);
  }
  .mode-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 10px rgba(0,0,0,.18);
  }
  #options {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
  }
  #options button {
    background: #ff9f1c;
    border: none;
    border-radius: 12px;
    padding: 14px 18px;
    margin: 8px;
    font-size: 18px;
    cursor: pointer;
    display: inline-block;
    min-width: 120px;
    text-align: center;
  }
  #options button:hover {
    opacity: .9;
  }
  .hidden { display: none; }
  .correct { background: #04c46b !important; color: white; }
  .wrong { background: #ff3b3b !important; color: white; }
  .result-box {
    margin-top: 16px;
    background: #eef2ff;
    padding: 16px;
    border-radius: 12px;
    text-align: center;
  }
</style>
</head>
<body>
<div id="app">
  <h2>Willena Anki Quiz</h2>

  <div id="menu" class="menu">
    <button onclick="selectSet('q20')">Question 20 Words</button>
    <button onclick="selectSet('q21')">Question 21 Words</button>
    <button onclick="selectSet('q22')">Question 22 Words</button>
    <button onclick="selectSet('q23')">Question 23 Words</button>
    <button onclick="selectSet('q24')">Question 24 Words</button>
    <button onclick="selectSet('q26')">Question 26 Words</button>
    <button onclick="selectSet('q30')">Question 30 Words</button>
    <button onclick="selectSet('q31')">Question 31 Words</button>
  </div>

  <div id="game" class="hidden">
    <div class="card-wrapper">
      <button id="prevBtn" class="arrow-btn" onclick="prevCard()">â—€</button>
      <div id="card" class="card">Tap to flip</div>
      <button id="nextBtn" class="arrow-btn" onclick="nextCard()">â–¶</button>
    </div>

    <div class="mode-buttons">
      <button class="mode-btn" onclick="startFlashcards()">Flashcards</button>
      <button class="mode-btn" onclick="startQuiz()">Multiple Choice</button>
    </div>

    <div id="options"></div>
    <div id="results" class="result-box hidden"></div>
    <button id="retryBtn" class="back-btn hidden" onclick="retryWrong()">Practice Wrong Words</button>
    <button class="back-btn" onclick="backToMenu()">Back to Menu</button>
  </div>
</div>

<script>
/* FULL EXTENDED VOCAB LISTS (20+ EACH) */
const wordSets = {
  q20:[
    {front:"inefficient",back:"ë¹„íš¨ìœ¨ì ì¸"}, {front:"overlook",back:"ëª» ë³´ê³  ë„˜ì–´ê°€ë‹¤"}, {front:"pressing",back:"ê¸´ê¸‰í•œ"}, {front:"be on time",back:"ì •ì‹œì— ì˜¤ë‹¤"},
    {front:"get off",back:"ì¶œë°œì‹œí‚¤ë‹¤"}, {front:"tone",back:"ë¶„ìœ„ê¸°"}, {front:"brief",back:"ê°„ë‹¨í•œ"}, {front:"transition",back:"ì „í™˜"},
    {front:"establish",back:"ì„¤ë¦½í•˜ë‹¤"}, {front:"participation",back:"ì°¸ì—¬"}, {front:"engagement",back:"ê´€ì—¬"},
    {front:"potential",back:"ìž ìž¬ë ¥"}, {front:"moment",back:"ìˆœê°„"}, {front:"prepared",back:"ì¤€ë¹„ëœ"},
    {front:"routine",back:"ì¼ê³¼"}, {front:"effective",back:"íš¨ê³¼ì ì¸"}, {front:"opening minutes",back:"ì‹œìž‘ ì‹œê°„"},
    {front:"demands",back:"ìš”êµ¬"}, {front:"wonder",back:"ê¶ê¸ˆí•´í•˜ë‹¤"}, {front:"reason",back:"ì´ìœ "}
  ],
  q21:[
    {front:"atom",back:"ì›ìž"}, {front:"inhale",back:"ë“¤ì´ë§ˆì‹œë‹¤"}, {front:"exhale",back:"ë‚´ì‰¬ë‹¤"}, {front:"remaining",back:"ë‚¨ì•„ìžˆëŠ”"},
    {front:"travel",back:"ì´ë™í•˜ë‹¤"}, {front:"recycle",back:"ìž¬í™œìš©í•˜ë‹¤"}, {front:"origin",back:"ê¸°ì›"}, {front:"throughout",back:"ë„ì²˜ì—"},
    {front:"limitless",back:"ë¬´í•œí•œ"}, {front:"evaporate",back:"ì¦ë°œí•˜ë‹¤"}, {front:"borrow",back:"ë¹Œë¦¬ë‹¤"}, {front:"cycle",back:"ìˆœí™˜í•˜ë‹¤"},
    {front:"universe",back:"ìš°ì£¼"}, {front:"nonliving",back:"ë¹„ìƒë¬¼ì˜"}, {front:"caretaker",back:"ê´€ë¦¬ìž"},
    {front:"follow",back:"ë”°ë¥´ë‹¤"}, {front:"share",back:"ê³µìœ í•˜ë‹¤"}, {front:"ancient",back:"ì˜¤ëž˜ëœ"},
    {front:"sweat",back:"ë•€"}, {front:"molecules",back:"ë¶„ìž"}
  ],
  q22:[
    {front:"gardening",back:"ì›ì˜ˆ"}, {front:"involve",back:"í¬í•¨í•˜ë‹¤"}, {front:"flexibility",back:"ìœ ì—°ì„±"}, {front:"challenging",back:"ë„ì „ì ì¸"},
    {front:"besides",back:"~ì™¸ì—ë„"}, {front:"profound",back:"ì‹¬ì˜¤í•œ"}, {front:"tend to",back:"~í•˜ëŠ” ê²½í–¥ì´ ìžˆë‹¤"},
    {front:"meditative",back:"ëª…ìƒì ì¸"}, {front:"elevate",back:"í–¥ìƒì‹œí‚¤ë‹¤"}, {front:"cognition",back:"ì¸ì§€"},
    {front:"strength",back:"íž˜"}, {front:"endurance",back:"ì§€êµ¬ë ¥"}, {front:"harvest",back:"ìˆ˜í™•í•˜ë‹¤"},
    {front:"planting",back:"ì‹¬ê¸°"}, {front:"watering",back:"ë¬¼ì£¼ê¸°"}, {front:"motions",back:"ë™ìž‘"},
    {front:"accessible",back:"ì ‘ê·¼í•˜ê¸° ì‰¬ìš´"}, {front:"beneficial",back:"ìœ ìµí•œ"}, {front:"reduce",back:"ì¤„ì´ë‹¤"},
    {front:"anxiety",back:"ë¶ˆì•ˆ"}
  ],
  q23:[
    {front:"take advantage of",back:"~ì„ ì´ìš©í•˜ë‹¤"}, {front:"bring into",back:"ê°€ì ¸ì˜¤ë‹¤"}, {front:"phenomena",back:"ìžì—°í˜„ìƒ"},
    {front:"consist of",back:"êµ¬ì„±ë˜ë‹¤"}, {front:"sensory",back:"ê°ê°ì˜"}, {front:"perceive",back:"ì¸ì§€í•˜ë‹¤"},
    {front:"expand",back:"í™•ìž¥í•˜ë‹¤"}, {front:"ultraviolet",back:"ìžì™¸ì„ "}, {front:"alternatively",back:"ëŒ€ì‹ ì—"},
    {front:"amplify",back:"ì¦í­í•˜ë‹¤"}, {front:"convert",back:"ë³€í™˜í•˜ë‹¤"}, {front:"instruments",back:"ê¸°êµ¬"},
    {front:"signals",back:"ì‹ í˜¸"}, {front:"capacity",back:"ëŠ¥ë ¥"}, {front:"observe",back:"ê´€ì°°í•˜ë‹¤"},
    {front:"measure",back:"ì¸¡ì •í•˜ë‹¤"}, {front:"visible",back:"ë³´ì´ëŠ”"}, {front:"turn into",back:"~ë¡œ ë°”ê¾¸ë‹¤"},
    {front:"extend",back:"í™•ìž¥í•˜ë‹¤"}, {front:"reach",back:"ë²”ìœ„"}
  ],
  q24:[
    {front:"animal experimentation",back:"ë™ë¬¼ ì‹¤í—˜"}, {front:"mortality",back:"ì‚¬ë§ë¥ "}, {front:"advancement",back:"ë°œì „"},
    {front:"correlation",back:"ìƒê´€ê´€ê³„"}, {front:"inference",back:"ì¶”ë¡ "}, {front:"prescribe",back:"ê·œì •í•˜ë‹¤"},
    {front:"prosthetic",back:"ë³´ì² ì˜"}, {front:"discovery",back:"ë°œê²¬"}, {front:"influential",back:"ì˜í–¥ë ¥ ìžˆëŠ”"},
    {front:"substantial",back:"ìƒë‹¹í•œ"}, {front:"necessity",back:"í•„ìš”ì„±"}, {front:"techniques",back:"ê¸°ìˆ "},
    {front:"medical",back:"ì˜ë£Œì˜"}, {front:"devices",back:"ìž¥ì¹˜"}, {front:"reject",back:"ê±°ë¶€í•˜ë‹¤"},
    {front:"cause",back:"ì›ì¸"}, {front:"result",back:"ê²°ê³¼"}, {front:"evidence",back:"ì¦ê±°"},
    {front:"historical",back:"ì—­ì‚¬ì ì¸"}, {front:"advances",back:"ë°œì „"}
  ],
  q26:[
    {front:"biology",back:"ìƒë¬¼í•™"}, {front:"eventually",back:"ê²°êµ­"}, {front:"complex",back:"ë³µìž¡í•œ"},
    {front:"pollution",back:"ì˜¤ì—¼"}, {front:"marine mammal",back:"í•´ì–‘ í¬ìœ ë¥˜"}, {front:"ban",back:"ê¸ˆì§€í•˜ë‹¤"},
    {front:"commercial",back:"ìƒì—…ì ì¸"}, {front:"whaling",back:"ê³ ëž˜ìž¡ì´"}, {front:"protect",back:"ë³´í˜¸í•˜ë‹¤"},
    {front:"organization",back:"ì¡°ì§"}, {front:"method",back:"ë°©ë²•"}, {front:"harmless",back:"ë¬´í•´í•œ"},
    {front:"communication",back:"ì˜ì‚¬ì†Œí†µ"}, {front:"release",back:"ë°œí‘œí•˜ë‹¤"}, {front:"movement",back:"ìš´ë™"},
    {front:"study",back:"ì—°êµ¬í•˜ë‹¤"}, {front:"pollution",back:"ì˜¤ì—¼"}, {front:"worldwide",back:"ì „ ì„¸ê³„ì ìœ¼ë¡œ"},
    {front:"laws",back:"ë²•ë¥ "}, {front:"global",back:"ì „ ì„¸ê³„ì˜"}
  ],
  q30:[
    {front:"resource",back:"ìžì›"}, {front:"tendency",back:"ì„±í–¥"}, {front:"complicated",back:"ë³µìž¡í•œ"},
    {front:"plenty",back:"í’ë¶€í•¨"}, {front:"happen upon",back:"ìš°ì—°ížˆ ë§ˆì£¼ì¹˜ë‹¤"}, {front:"shelter",back:"ì‰¼í„°"},
    {front:"sophisticated",back:"ì •êµí•œ"}, {front:"disconnection",back:"ë‹¨ì ˆ"}, {front:"nomadic",back:"ìœ ëª©ì˜"},
    {front:"hospitality",back:"í™˜ëŒ€"}, {front:"security",back:"ë³´ì•ˆ"}, {front:"fence",back:"ìš¸íƒ€ë¦¬"},
    {front:"outside dangers",back:"ì™¸ë¶€ ìœ„í—˜"}, {front:"cooperate",back:"í˜‘ë ¥í•˜ë‹¤"}, {front:"share",back:"ë‚˜ëˆ„ë‹¤"},
    {front:"blindness",back:"ë§¹ëª©"}, {front:"common folk",back:"ì¼ë°˜ ì‚¬ëžŒë“¤"}, {front:"interest",back:"ì´ìµ"},
    {front:"survival",back:"ìƒì¡´"}, {front:"open up",back:"ì—´ì–´ì£¼ë‹¤"}
  ],
  q31:[
    {front:"content",back:"ë§Œì¡±í•œ"}, {front:"merely",back:"ë‹¨ì§€"}, {front:"successive",back:"ì—°ì†ì ì¸"},
    {front:"gust",back:"ëŒí’"}, {front:"adjust to",back:"ì ì‘í•˜ë‹¤"}, {front:"baseline",back:"ê¸°ì¤€"},
    {front:"fade",back:"ì‚¬ë¼ì§€ë‹¤"}, {front:"despair",back:"ì ˆë§"}, {front:"long for",back:"ì—´ë§í•˜ë‹¤"},
    {front:"euphoria",back:"í–‰ë³µê°"}, {front:"experience",back:"ê²½í—˜"}, {front:"default",back:"ê¸°ë³¸"},
    {front:"pulled toward",back:"ëŒë ¤ê°€ë‹¤"}, {front:"well-being",back:"ì›°ë¹™"}, {front:"struggle",back:"ê³ êµ°ë¶„íˆ¬í•˜ë‹¤"},
    {front:"celebrate",back:"ì¶•í•˜í•˜ë‹¤"}, {front:"regret",back:"í›„íšŒí•˜ë‹¤"}, {front:"adapt",back:"ì ì‘í•˜ë‹¤"},
    {front:"highs and lows",back:"ê¸°ë³µ"}, {front:"believe",back:"ë¯¿ë‹¤"}
  ]
};

let deck = [];
let index = 0;
let showingFront = true;
let wrongWords = [];
let correctCount = 0;
let mode = null; // 'flashcard' or 'quiz'

function selectSet(key) {
  deck = [...wordSets[key]];
  shuffle(deck);
  index = 0;
  showingFront = true;
  wrongWords = [];
  correctCount = 0;
  mode = null;
  document.getElementById('menu').classList.add('hidden');
  document.getElementById('game').classList.remove('hidden');
  document.getElementById('options').innerHTML = '';
  hideResults();
  showCard();
}

function backToMenu() {
  document.getElementById('game').classList.add('hidden');
  document.getElementById('menu').classList.remove('hidden');
  document.getElementById('options').innerHTML = '';
  hideResults();
}

function hideResults() {
  document.getElementById('results').classList.add('hidden');
  document.getElementById('retryBtn').classList.add('hidden');
}

function shuffle(a) {
  for (let i = a.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]];
  }
}

// ---------- FLASHCARDS ----------
function showCard() {
  const card = document.getElementById('card');
  if (!deck[index]) return;
  card.textContent = showingFront ? deck[index].front : deck[index].back;
  // Only allow flip in flashcard mode
  card.onclick = mode === 'quiz' ? null : flipCard;
}

function flipCard() {
  if (mode !== 'flashcard') return;
  showingFront = !showingFront;
  showCard();
}

function startFlashcards() {
  index = 0;
  showingFront = true;
  mode = 'flashcard';
  hideResults();
  document.getElementById('options').innerHTML = '';
  showCard();
}

function prevCard() {
  if (mode !== 'flashcard') return;
  if (index > 0) {
    index--;
    showingFront = true;
    showCard();
  }
}

function nextCard() {
  if (mode !== 'flashcard') return;
  if (index < deck.length - 1) {
    index++;
    showingFront = true;
    showCard();
  }
}

// ---------- QUIZ MODE ----------
function startQuiz() {
  index = 0;
  correctCount = 0;
  wrongWords = [];
  mode = 'quiz';
  hideResults();
  loadQuiz();
}

function loadQuiz() {
  const opt = document.getElementById('options');
  opt.innerHTML = '';
  if (!deck[index]) {
    finishQuiz();
    return;
  }

  const card = document.getElementById('card');
  card.textContent = deck[index].front;
  card.onclick = null; // no flip in quiz mode

  const correct = deck[index].back;
  const options = generateOptions(correct);

  options.forEach(o => {
    const b = document.createElement('button');
    b.textContent = o;
    b.onclick = () => checkQuiz(b, o);
    opt.appendChild(b);
  });
}

function generateOptions(correct) {
  const o = [correct];
  while (o.length < 4 && o.length < deck.length) {
    const r = deck[Math.floor(Math.random() * deck.length)].back;
    if (!o.includes(r)) o.push(r);
  }
  return o.sort(() => Math.random() - 0.5);
}

function checkQuiz(btn, chosen) {
  const correct = deck[index].back;
  const buttons = document.querySelectorAll('#options button');

  if (chosen === correct) {
    btn.classList.add('correct');
    correctCount++;
  } else {
    btn.classList.add('wrong');
    wrongWords.push(deck[index]);
    buttons.forEach(b => {
      if (b.textContent === correct) b.classList.add('correct');
    });
  }

  index++;
  setTimeout(() => {
    if (index >= deck.length) {
      finishQuiz();
    } else {
      loadQuiz();
    }
  }, 700);
}

function finishQuiz() {
  const total = deck.length;
  const wrong = total - correctCount;
  const percent = total === 0 ? 0 : Math.round((correctCount / total) * 100);
  const res = document.getElementById('results');

  res.innerHTML = `Score: ${correctCount}/${total} (${percent}%)<br>` +
    (wrong === 0 ? 'Perfect! ðŸŽ‰' : `Wrong words: ${wrong}`);

  res.classList.remove('hidden');

  if (wrongWords.length > 0) {
    document.getElementById('retryBtn').classList.remove('hidden');
  }

  document.getElementById('card').textContent = 'Quiz Finished';
  document.getElementById('options').innerHTML = '';
}

function retryWrong() {
  if (wrongWords.length === 0) return;
  deck = [...wrongWords];
  shuffle(deck);
  index = 0;
  correctCount = 0;
  wrongWords = [];
  hideResults();
  startQuiz();
}
</script>
</body>
</html>
