<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flashcard Generator</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Caveat:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Load shared burger menu component -->
    <script type="module">
      import { insertBurgerMenu } from '/Teachers/components/burger-menu.js';
      async function ensureBurgerMenuTemplate() {
        if (!document.getElementById('burger-menu-template')) {
          const resp = await fetch('/Teachers/components/burger-menu.html');
          const html = await resp.text();
          const tempDiv = document.createElement('div');
          tempDiv.innerHTML = html;
          document.body.appendChild(tempDiv.firstElementChild);
        }
      }
      document.addEventListener('DOMContentLoaded', async function() {
        await ensureBurgerMenuTemplate();
        insertBurgerMenu('#burger-menu-mount');
      });
    </script>
    <div class="container">
        <div class="app-card">
            <!-- Header -->
            <div class="header" style="position:relative; z-index:100; min-height:64px; display:flex; align-items:center;">
                <div class="logo">
                    <img src="../../../Assets/Images/Logo.png" alt="Willena" class="logo-img">
                </div>
                <h1 style="flex:1; text-align:center; margin:0;">Flashcard Generator</h1>
                <!-- Burger Menu Component (vertically centered in header, inside container) -->
                <div id="burger-menu-mount" style="position:absolute; top:50%; right:16px; transform:translateY(-50%); z-index:9999;"></div>
            </div>

            <!-- Top Action Bar -->
            <div class="top-actions">
                <span class="action-link" id="loadBtn">Load</span>
                <span class="action-link" id="saveBtn">Save</span>
                <span class="action-link" id="printBtn">Print</span>
                <span class="action-link" id="pdfBtn">PDF</span>
            </div>

            <!-- Floating Toolbar -->
            <div class="floating-toolbar" id="floatingToolbar">
                <select class="toolbar-select" id="fontSelect">
                    <option value="Arial">Arial</option>
                    <option value="Times New Roman">Times New Roman</option>
                    <option value="Calibri">Calibri</option>
                    <option value="Poppins">Poppins</option>
                    <option value="Verdana">Verdana</option>
                    <option value="Garamond">Garamond</option>
                    <option value="Comic Sans MS">Comic Sans MS</option>
                    <option value="Caveat">Caveat (Handwriting)</option>
                </select>

                <div class="font-size-controls">
                    <button class="size-btn" id="decreaseFontBtn">-</button>
                    <input type="number" class="font-size-input" id="fontSizeInput" value="18">
                    <button class="size-btn" id="increaseFontBtn">+</button>
                </div>

                <div class="layout-group">
                    <select class="layout-select" id="layoutSelect">
                        <option value="2-card">2x2 Portrait</option>
                        <option value="4-card">4 Card Mode</option>
                        <option value="8-card">8 Card Mode</option>
                    </select>
                </div>

                <div class="slider-group">
                    <label for="imageZoomSlider" style="font-size: 15px;">Image Zoom</label>
                    <input type="range" class="slider" id="imageZoomSlider" min="0.5" max="2" step="0.01" value="1" style="width: 180px;">
                    <span id="imageZoomValue" style="font-size: 14px;">1.00x</span>
                </div>

                <div class="toggle-group">
                    <label class="toggle-label">
                        <input type="checkbox" id="showKoreanToggle">
                        <span class="toggle-slider"></span>
                        Korean
                    </label>
                </div>

                <div class="toggle-group">
                    <label class="toggle-label">
                        <input type="checkbox" id="imageOnlyToggle">
                        <span class="toggle-slider"></span>
                        Image Only
                    </label>
                </div>

                <button class="refresh-btn" id="refreshImagesBtn" title="Refresh Images">â†»</button>
            </div>

            <!-- Main Content -->
            <div class="main-content">
                <!-- Sidebar -->
                <div class="sidebar">
                    <div class="input-group">
                        <label>Card Set Title</label>
                        <input type="text" class="input-field" id="titleInput" placeholder="Enter flashcard set title">
                    </div>

                    <div class="input-group">
                        <label>Word List</label>
                        <textarea class="textarea-field" id="wordListInput" placeholder="Enter words (one per line):&#10;apple&#10;banana&#10;cat&#10;dog">apple
banana
cat
dog
book
car
house
tree</textarea>
                    </div>

                    <div class="input-group">
                        <label>Generate from Topic</label>
                        <div style="display: flex; gap: 8px; align-items: center;">
                            <input type="text" class="input-field" id="topicInput" placeholder="e.g., food, animals, colors..." style="flex: 1;">
                            <select class="toolbar-select" id="wordCountSelect" style="width: 70px;">
                                <option value="10">10</option>
                                <option value="15">15</option>
                                <option value="20" selected>20</option>
                                <option value="25">25</option>
                                <option value="30">30</option>
                            </select>
                            <button class="secondary-btn" id="generateFromTopicBtn" style="padding: 8px 12px; white-space: nowrap;">Generate</button>
                        </div>
                    </div>

                    <div class="button-group">
                        <button class="primary-btn" id="generateCardsBtn">Generate Cards</button>
                        <button class="secondary-btn" id="clearCardsBtn">Clear Cards</button>
                    </div>

                    <div class="card-list-container">
                        <div class="card-list-header">
                            <h3>Generated Cards</h3>
                            <span class="card-count" id="cardCount">0 cards</span>
                        </div>
                        <div class="card-list" id="cardList">
                            <!-- Card items will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- Preview Area -->
                <div class="preview-area" id="previewArea">
                    <div class="preview-placeholder" id="previewPlaceholder">
                        <div class="placeholder-content">
                            <h3>Create Your Flashcards</h3>
                            <p>1. Enter words in the sidebar</p>
                            <p>2. Click "Generate Cards"</p>
                            <p>3. Add images with AI assistance</p>
                            <p>4. Choose your layout and print</p>
                        </div>
                    </div>
                    <div class="flashcard-grid" id="flashcardGrid" style="display: none;">
                        <!-- Flashcards will be generated here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Drag and Drop Overlay -->
    <div class="drop-overlay" id="dropOverlay">
        <div class="drop-message">
            <h3>Drop images here</h3>
            <p>Drag and drop images to add them to your flashcards</p>
        </div>
    </div>

    <script src="flashcard-simple.js"></script>
</body>
</html>