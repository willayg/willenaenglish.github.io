<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reading 3.0</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Open+Sans:wght@400;500;600;700&family=Roboto:wght@400;500;700&family=Lato:wght@400;700&family=Montserrat:wght@400;500;600;700&family=Nunito:wght@400;600;700&family=Source+Sans+Pro:wght@400;600;700&family=Ubuntu:wght@400;500;700&family=Merriweather:wght@400;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f7fa;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 20px;
        }
        
        .controls {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            height: fit-content;
        }
        
        .controls h2 {
            margin: 0 0 20px 0;
            color: #2e2b3f;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #333;
        }
          .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
            box-sizing: border-box;
        }
        
        .form-group textarea {
            min-height: 300px;
            resize: vertical;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .btn {
            background: #2e2b3f;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        .btn:hover {
            background: #1a1940;
        }
        
        .btn.secondary {
            background: #6c757d;
        }
        
        .btn.secondary:hover {
            background: #545b62;
        }
        
        .preview {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            min-height: 800px;
        }
        
        .preview h3 {
            margin: 0 0 20px 0;
            color: #2e2b3f;
        }
        
        /* Passage page styles */
        .passage-page {
            width: 794px;
            height: 1123px;
            margin: 0 auto 20px auto;
            background: white;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
            page-break-after: always;
        }
        
        .passage-page:last-child {
            margin-bottom: 0;
        }
        
        .page-header {
            padding: 30px 40px 20px 40px;
            flex-shrink: 0;
        }
        
        .page-header.first-page {
            padding-bottom: 30px;
        }
        
        .page-header.continuation {
            padding-bottom: 15px;
            border-bottom: 2px solid #eee;
            margin-bottom: 20px;
        }
        
        .logo {
            width: 80px;
            height: auto;
            margin-bottom: 15px;
        }
        
        .student-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 14px;
            color: #666;
        }
        
        .student-info span {
            border-bottom: 1px solid #ccc;
            min-width: 120px;
            display: inline-block;
            padding-bottom: 2px;
        }
        
        .page-title {
            font-size: 24px;
            font-weight: 700;
            color: #2e2b3f;
            margin: 0 0 10px 0;
            text-align: center;
        }
        
        .page-content {
            flex: 1 1 auto;
            padding: 0 40px;
            overflow: hidden;
            font-size: 16px;
            line-height: 1.8;
            color: #333;
        }
        
        .page-footer {
            padding: 15px 40px 30px 40px;
            flex-shrink: 0;
            border-top: 1px solid #eee;
            font-size: 12px;
            color: #888;
            text-align: center;
            position: relative;
        }
        
        .page-number {
            position: absolute;
            bottom: 15px;
            right: 40px;
            font-weight: 500;
        }
        
        /* Print styles */
        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .container {
                display: block;
            }
            
            .controls {
                display: none;
            }
            
            .preview h3 {
                display: none;
            }
            
            .passage-page {
                margin: 0;
                box-shadow: none;
                page-break-after: always;
            }
            
            .passage-page:last-child {
                page-break-after: auto;
            }
        }
        
        .page-break-indicator {
            text-align: center;
            color: #7c3aed;
            background: #f0ebff;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            border: 1px dashed #7c3aed;
            font-size: 14px;
        }
        
        @media print {
            .page-break-indicator {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">        <div class="controls">
            <h2>Reading 3.0</h2>
            
            <div class="form-group">
                <label for="passageTitle">Title (First Page Only)</label>
                <input type="text" id="passageTitle" placeholder="Enter passage title" value="Reading Passage">
            </div>
            
            <!-- Font Controls -->
            <div class="form-group">
                <label for="passageFont">Font Family</label>
                <select id="passageFont">
                    <option value="'Poppins', sans-serif">Poppins</option>
                    <option value="'Open Sans', sans-serif">Open Sans</option>
                    <option value="'Roboto', sans-serif">Roboto</option>
                    <option value="'Lato', sans-serif">Lato</option>
                    <option value="'Montserrat', sans-serif">Montserrat</option>
                    <option value="'Nunito', sans-serif">Nunito</option>
                    <option value="'Source Sans Pro', sans-serif">Source Sans Pro</option>
                    <option value="'Ubuntu', sans-serif">Ubuntu</option>
                    <option value="'Merriweather', serif">Merriweather</option>
                    <option value="'Playfair Display', serif">Playfair Display</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="passageFontSize">Font Size</label>
                <select id="passageFontSize">
                    <option value="12">Extra Small (12px)</option>
                    <option value="14">Small (14px)</option>
                    <option value="16" selected>Normal (16px)</option>
                    <option value="18">Large (18px)</option>
                    <option value="20">Extra Large (20px)</option>
                    <option value="22">XXL (22px)</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="passageContent">Passage Content</label>
                <textarea id="passageContent" placeholder="Enter your passage text here...">Once upon a time, in a small village nestled between rolling hills and a sparkling river, there lived a young girl named Maya. Maya had always been curious about the world beyond her village, especially the mysterious forest that bordered their home.

Every morning, Maya would wake up early and help her grandmother tend to their small garden. Her grandmother, whom everyone called Nani, was known throughout the village for her wisdom and her ability to grow the most beautiful flowers anyone had ever seen.

One particular morning, as Maya was watering the roses, she noticed something unusual. A small, silver key was buried beneath the soil near the oldest rose bush. The key seemed to shimmer in the morning sunlight, almost as if it were calling to her.

"Nani," Maya called excitedly, "look what I found!"

Her grandmother examined the key carefully, turning it over in her weathered hands. "This is no ordinary key, my dear," she said with a mysterious smile. "This key has been waiting for the right person to find it."

</textarea>
            </div>
            
            <div class="form-group">
                <label for="questionsBox">Questions (editable)</label>
                <textarea id="questionsBox" placeholder="Generated questions will appear here..." rows="10"></textarea>
            </div>
            
            <!-- AI Tools Section -->
            <div class="form-group" style="border-top: 2px solid #e0e0e0; padding-top: 15px; margin-top: 20px;">                <h3 style="color: #2e2b3f; margin: 0 0 15px 0; font-size: 16px;">AI Tools</h3>
                <p style="font-size: 12px; color: #666; margin-bottom: 15px;">Advanced AI tools for content creation and analysis.</p>
                <button class="btn secondary" onclick="alert('Story builder coming in next update!')" style="width: 100%; margin-bottom: 8px;">
                    Build a Story (Coming Soon)
                </button>
                <button class="btn" onclick="showQuestionGenerator()" style="width: 100%; margin-bottom: 8px;">
                    Generate Questions
                </button>                <button class="btn secondary" onclick="alert('AI vocabulary extraction coming in next update!')" style="width: 100%;">
                    Extract Vocabulary (Coming Soon)
                </button>
                
                <!-- Question Results Display -->
                <div id="questionResults" style="margin-top: 15px; padding: 15px; background: #e8f5e8; border-radius: 8px; border-left: 4px solid #28a745; display: none;">
                    <h4 style="margin: 0 0 10px 0; color: #2e2b3f; font-size: 14px;">âœ… Questions Generated!</h4>
                    <div id="questionContent" style="max-height: 150px; overflow-y: auto; font-size: 12px; background: white; padding: 8px; border-radius: 4px; margin-bottom: 10px; white-space: pre-wrap; font-family: 'Courier New', monospace;"></div>
                    <div style="display: flex; gap: 8px;">
                        <button onclick="insertQuestionsAtEnd()" class="btn" style="flex: 1; padding: 8px; font-size: 12px;">Insert at End</button>
                        <button onclick="copyQuestions()" class="btn secondary" style="flex: 1; padding: 8px; font-size: 12px;">Copy</button>
                    </div>
                </div>
            </div>

            <div style="margin-top: 20px;">
                <button class="btn" onclick="generatePassage()">Generate Passage</button>
                <button class="btn secondary" onclick="printPassage()">Print</button>
                <button class="btn secondary" onclick="downloadPDF()">Download PDF</button>
            </div>
        </div>
        
        <div class="preview">
            <h3>Preview</h3>
            <div id="passagePreview">
                <!-- Generated passage will appear here -->
            </div>
        </div>
    </div>

    <!-- Question Generator Modal -->
    <div id="questionModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 10px; width: 500px; max-height: 80vh; overflow-y: auto;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3 style="margin: 0; color: #2e2b3f;">Question Generator</h3>
                <button onclick="hideQuestionGenerator()" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #666;">&times;</button>
            </div>
            
            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 5px; font-weight: 500;">Question Type:</label>
                <select id="questionType" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 5px;">
                    <option value="multiple-choice">Multiple Choice</option>
                    <option value="written">Written Answers</option>
                </select>
            </div>
            
            <div style="margin-bottom: 20px;">
                <h4 style="margin-bottom: 10px; color: #2e2b3f;">Question Categories:</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="comprehension" checked>
                        <span>Comprehension</span>
                        <input type="number" id="comprehensionCount" value="2" min="0" max="10" style="width: 50px; margin-left: 10px;">
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="detail" checked>
                        <span>Detail</span>
                        <input type="number" id="detailCount" value="2" min="0" max="10" style="width: 50px; margin-left: 10px;">
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="inference">
                        <span>Inference</span>
                        <input type="number" id="inferenceCount" value="1" min="0" max="10" style="width: 50px; margin-left: 10px;">
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="grammar">
                        <span>Grammar</span>
                        <input type="number" id="grammarCount" value="1" min="0" max="10" style="width: 50px; margin-left: 10px;">
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="mainIdea">
                        <span>Main Idea</span>
                        <input type="number" id="mainIdeaCount" value="1" min="0" max="10" style="width: 50px; margin-left: 10px;">
                    </label>
                </div>
            </div>
            
            <div style="display: flex; gap: 10px; justify-content: flex-end;">
                <button onclick="hideQuestionGenerator()" class="btn secondary">Cancel</button>
                <button onclick="generateQuestions()" class="btn">Generate Questions</button>
            </div>
              <div id="questionResults" style="margin-top: 20px; padding: 15px; background: #f9f9f9; border-radius: 5px; display: none;">
                <h4 style="margin-top: 0;">Generated Questions:</h4>
                <div id="questionContent" style="white-space: pre-wrap; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-size: 15px; line-height: 1.6; max-height: 300px; overflow-y: auto; border: 1px solid #ddd; padding: 15px; background: white; border-radius: 3px;"></div>
                <div style="margin-top: 10px; display: flex; gap: 10px;">
                    <button onclick="copyQuestions()" class="btn secondary">Copy to Clipboard</button>
                    <button onclick="insertQuestionsAtEnd()" class="btn">Insert at End</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script type="module" src="passage.js"></script>
</body>
</html>
