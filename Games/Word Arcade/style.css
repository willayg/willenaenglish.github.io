/* Strong star color overrides for mode select menu */
#modeSelect .star-row .star-filled,
#modeSelect .mode-btn .star-row .star-filled {
  fill: #ffe066 !important; /* yellow */
  stroke: #fff !important;  /* white outline */
  stroke-width: 2px !important;
}
#modeSelect .star-row .star-empty,
#modeSelect .mode-btn .star-row .star-empty {
  fill: #fff !important;    /* white */
  stroke: #fff !important;  /* white outline */
  stroke-width: 2px !important;
}
body {
  font-family: 'Poppins', Arial, sans-serif;
  margin: 0;
  background: #ffffff;
  color: #222;
  touch-action: manipulation;
  overflow-y: hidden;
}

/* === Force consistent header height across apps === */
student-header {
  --header-height: 180px;
}

/* === Header + menu === */
.wa-header {
  padding: 12px 14px 8px;
  background: #ffffff;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.wa-top {
  width: 100%;
  min-height: 48px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: relative;
}
.wa-profile { display:inline-flex; align-items:center; gap:8px; text-decoration:none; color:#19777e; }
.wa-avatar { width:36px;height:36px;border-radius:50%;border:2px solid #93cbcf;background:hsl(0, 0%, 100%);display:grid;place-items:center;font-size:18px; }
.wa-username { font-weight:600; color:#19777e; font-size:14px; }
.wa-title {
  position: static;
  margin: 0;
  font-size: 1.7em;
  color: #fff;
  text-shadow:
    0 0 8px #39cfe0,
    0 0 16px #39cfe0,
    0 0 24px #39cfe0,
    0 0 32px #39cfe0;
  font-family: 'Poppins', Arial, sans-serif;
  text-align: right;
  width: 100%;
  justify-content: flex-end;
  display: flex;
  align-items: flex-end;
}
.wa-spacer { width:55px; height:1px; }
.wa-menu {
  display: flex;
  align-items: center;
  gap: 0;
  margin-top: 8px;
  padding: 0;
  border-top: 1px solid #e6eaef;
  background: #fff;
  overflow-x: visible;
  overflow-y: hidden;
  white-space: nowrap;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  position: relative;
  justify-content: center;
  flex-wrap: wrap;
}
.wa-menu::-webkit-scrollbar { display: none; }
.wa-menu-btn {
  appearance: none;
  background: none;
  border: 0;
  margin: 0;
  padding: 10px 20px;
  font-size: 14px;
  color: #19777e;
  cursor: pointer;
  font-weight: 600;
  white-space: nowrap;
  display: inline-flex;
  align-items: center;
  line-height: 1.4;
  vertical-align: middle;
  min-width: auto;
  min-height: 44px;
  box-sizing: border-box;
  font-family: 'Poppins', Arial, sans-serif !important;
  text-decoration: none !important;
  transition: all 0.25s ease;
  position: relative;
  flex: 1;
  justify-content: center;
}
.wa-menu-btn:not(:first-child) {
  border-left: none;
  margin-left: 0;
  padding-left: 20px;
}
.wa-menu-btn:hover,
.wa-menu-btn:focus,
.wa-menu-btn:active {
  color: #19777e;
  background: none;
  border: none;
  box-shadow: none;
  outline: none;
  transform: none;
  font-size: 14px;
}

/* === Modern Tab styling === */
.wa-tab {
  position: relative;
  transition: all 0.25s ease;
  border-bottom: 3px solid transparent;
  padding-bottom: 10px;
  padding-top: 10px;
  background: linear-gradient(135deg, rgba(147, 203, 207, 0) 0%, rgba(147, 203, 207, 0) 100%);
}

.wa-tab::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 3px;
  background: linear-gradient(90deg, #19777e, #93cbcf, #19777e);
  border-radius: 3px;
  transition: width 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.wa-tab.active {
  color: #19777e;
  font-weight: 700;
  background: linear-gradient(135deg, rgba(147, 203, 207, 0.1) 0%, rgba(147, 203, 207, 0.05) 100%);
}

.wa-tab.active::after {
  width: 80%;
}

.wa-tab:not(.active) {
  color: #999;
}

.wa-tab:hover:not(.active) {
  color: #19777e;
}

.wa-tab:hover:not(.active)::after {
  width: 40%;
  opacity: 0.5;
}

@media (max-width: 768px) {
  .wa-menu-btn {
    padding: 10px 14px;
    font-size: 13px;
  }
  .wa-menu-btn:not(:first-child) {
    padding-left: 14px;
  }
}

@media (max-width: 480px) {
  .wa-menu-btn {
    padding: 8px 12px;
    font-size: 12px;
    min-height: 40px;
  }
  .wa-menu-btn:not(:first-child) {
    padding-left: 12px;
  }
  .wa-tab {
    padding-bottom: 8px;
    padding-top: 8px;
  }
}


/* === Opening options card === */
html, body { overflow-x:hidden; }
main {
  width:100%;
  max-width:1000px;
  margin:0 auto;
  background:#ffffff; /* slightly darker gray container under white cards */
  border-radius:0px;
  box-shadow:0 4px 24px rgba(62,159,167,0.08);
  padding:12px clamp(8px,3vw,32px) 24px; /* horizontal padding scales with viewport */
  box-sizing:border-box;
}
.wa-card { background:#fbffff; border:3px solid #59d7db; border-radius:20px; width:min(92%, 420px); margin:12px auto 20px; padding:12px 12px; box-shadow:0 3px 14px rgba(62,159,167,0.1); max-width:920px; }

/* Make the mode select card wider than default wa-card */
#modeSelectCard.wa-card { width: min(95%, 1000px); max-width: 1000px; padding: 6px 6px; }

/* New grid for opening buttons */
#openingButtons { display:grid; gap:15px; grid-template-columns:1fr; width:100%; max-width:620px; margin-inline:auto; padding:12px; box-sizing:border-box; }

/* Base button resets remain */
.wa-option { display:flex; align-items:flex-end; justify-content:center; gap:25px; width:100%; background:none; border:none; text-align:center; font-size:2rem; font-weight:600; padding:24px 8px; cursor:pointer; }

/* Card style variant for grid buttons */
.wa-option.wa-option-card { flex-direction:column; align-items:center; justify-content:space-between; gap:12px; background:#ffffff; /* solid white card backgrounds */ border:2px solid #a9d6e9; border-radius:18px; padding:18px 12px 20px; box-shadow:0 4px 12px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.08); position:relative; transition:transform .25s cubic-bezier(.4,2,.3,.7), box-shadow .25s ease, border-color .25s ease; }
.wa-option.wa-option-card:hover, .wa-option.wa-option-card:focus-visible { transform:translateY(-6px) scale(1.03); box-shadow:0 10px 26px -4px rgba(25,119,126,0.25); outline:none; }
.wa-option.wa-option-card:active { transform:translateY(-2px) scale(.98); box-shadow:0 4px 14px rgba(25,119,126,0.25); }
.wa-option.wa-option-card span { font-size:1.25rem; font-weight:700; letter-spacing:.5px; }
.wa-option.wa-option-card .wa-icon { width:96px; height:96px; max-width:none; }

/* Color accents per type */
.wa-option-card.wa-for-you { border-color:#21b3be; }
.wa-option-card.wa-for-you:hover { border-color:#19777e; }
.wa-option-card.wa-review { border-color:#d9923b; }
.wa-option-card.wa-review:hover { border-color:#b97421; }
.wa-option-card.wa-basic { border-color:#ff6fb0; }
.wa-option-card.wa-basic:hover { border-color:#e45497; }
.wa-option-card.wa-browse { border-color:#5b7fe5; }
.wa-option-card.wa-browse:hover { border-color:#3f5fb1; }
.wa-option-card.wa-back { border-color:#22a4ad; }
.wa-option-card.wa-back:hover { border-color:#0f5962; }
.wa-option-card.wa-back .wa-logo-crop {
  width: 70px;
  height: 48px; /* crop height to remove top/bottom whitespace */
  overflow: hidden;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.wa-option-card.wa-back .wa-logo-crop .wa-icon-back {
  width: 70px; /* keep full width inside the crop */
  height: auto; /* do not stretch horizontally */
  object-fit: contain; /* ensure no side cropping */
  object-position: center center; /* centered vertically */
}

.wa-option-card.wa-level-inactive {
  cursor: not-allowed;
  pointer-events: auto;
}

.wa-option-card.wa-level-inactive:hover {
  transform: none;
  box-shadow: 0 4px 12px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.08);
}

.wa-option-card.wa-level-inactive .wa-icon {
  filter: grayscale(100%);
}

/* Responsive tweaks */
/* Mobile first: single column (already defined). */
@media (min-width:600px){
  /* Tablet: two columns */
  #openingButtons { grid-template-columns:repeat(2,1fr); max-width:760px; gap:10px; }
  .wa-option.wa-option-card { padding:20px 14px 24px; }
  .wa-option.wa-option-card .wa-icon { width:90px; height:90px; }
  .wa-option.wa-option-card span { font-size:1.2rem; }
}
@media (min-width:900px){
  /* Larger screens: still two columns but scale cards */
  #openingButtons { gap:10px; max-width:820px; }
  .wa-option.wa-option-card { padding:26px 18px 30px; }
  .wa-option.wa-option-card .wa-icon { width:120px; height:120px; }
  .wa-option.wa-option-card span { font-size:1.4rem; }
}

/* =============================
   Mode Select (match main menu)
   ============================= */
#modeSelect { margin-top:18px; }
#modeSelect .mode-btn { display:flex; flex-direction:column; align-items:center; justify-content:space-between; gap:15px; background:#21b3be !important; border:3px solid #19777e; border-radius:10px; padding:10px 8px 12px; box-shadow:0 6px 16px rgba(0,0,0,0.10), 0 2px 6px rgba(0,0,0,0.08); position:relative; width:100%; height:auto; margin:0; color:#fff !important; }

/* Rotate button colors with matching slightly darker borders: cyan, pink, blue, orange */
#modeSelect .mode-btn:nth-child(1) { background: #ffffff !important; border-color: #21b3be !important; box-shadow: 0 10px 24px rgba(25,119,126,0.28), 0 4px 12px rgba(0,0,0,0.10) !important; } 
#modeSelect .mode-btn:nth-child(2) { background: #ffffff !important; border-color: #21b3be !important; box-shadow: 0 10px 24px rgba(185,116,33,0.28), 0 4px 12px rgba(0,0,0,0.10) !important; } 
#modeSelect .mode-btn:nth-child(3) { background: #ffffff !important; border-color: #b97421 !important; box-shadow: 0 10px 24px rgba(228,84,151,0.28), 0 4px 12px rgba(0,0,0,0.10) !important; } 
#modeSelect .mode-btn:nth-child(4) { background: #ffffff !important; border-color: #ff6fb0 !important; box-shadow: 0 10px 24px rgba(63,95,177,0.28), 0 4px 12px rgba(0,0,0,0.10) !important; } 
#modeSelect .mode-btn:nth-child(5) { background: #ffffff !important; border-color: #5b7fe5 !important; box-shadow: 0 10px 24px rgba(25,119,126,0.28), 0 4px 12px rgba(0,0,0,0.10) !important; } 
#modeSelect .mode-btn:nth-child(6) { background: #ffffff !important; border-color: #21b3be !important; box-shadow: 0 10px 24px rgba(185,116,33,0.28), 0 4px 12px rgba(0,0,0,0.10) !important; } 
#modeSelect .mode-btn:nth-child(7) { background: #ffffff !important; border-color: #b97421 !important; box-shadow: 0 10px 24px rgba(228,84,151,0.28), 0 4px 12px rgba(0,0,0,0.10) !important; } 
#modeSelect .mode-btn:nth-child(8) { background: #ffffff !important; border-color: #ff6fb0!important; box-shadow: 0 10px 24px rgba(63,95,177,0.28), 0 4px 12px rgba(0,0,0,0.10) !important; } 
#modeSelect .mode-btn:hover, #modeSelect .mode-btn:focus-visible { transform:translateY(-6px) scale(1.03); box-shadow:0 10px 26px -4px rgba(25,119,126,0.25); outline:none; }
#modeSelect .mode-btn:active { transform:translateY(-2px) scale(.98); box-shadow:0 4px 14px rgba(25,119,126,0.25); }
#modeSelect .mode-btn .mode-content { all:unset; display:flex; flex-direction:column; align-items:center; justify-content:flex-start; gap:15px; width:100%; }
#modeSelect .mode-btn .mode-left { all:unset; display:flex; flex-direction:column; align-items:center; }
#modeSelect .mode-btn .mode-title { font-family:'Poppins',Arial,sans-serif; font-weight:700; font-size:1.25rem; letter-spacing:.4px; margin:0; color:#fff !important; }
#modeSelect .mode-btn .mode-icon { order:-1; }
#modeSelect .mode-btn .mode-icon img { width:48px; height:48px; object-fit:contain; display:block; }
#modeSelect .mode-btn .mode-icon .material-icons { font-size: 72px; width: 72px; height: 72px; display: flex; align-items: center; justify-content: center; color: #ffffff !important; text-shadow: -0.5px -0.5px 0 currentColor, 0.5px -0.5px 0 currentColor, -0.5px 0.5px 0 currentColor, 0.5px 0.5px 0 currentColor; }
#modeSelect .mode-btn .star-row { order:10; }
#modeSelect .mode-btn .mode-meta { font-size:1rem; font-weight:700; margin-top:2px; color:#fff !important; }
/* Make SVGs in mode select buttons totally white */
#modeSelect .mode-btn svg, #modeSelect .mode-btn svg * {
  fill: #fff !important;
  stroke: #fff !important;
  color: #fff !important;
}

/* Reduce star icon size within mode cards */
#modeSelect .mode-btn .star-row svg { width:16px; height:16px; }

/* Cyan button (for-you): glow effect for filled stars, no effect for empty */
#modeSelect .mode-btn:nth-child(1) .star-row .star-filled,
#modeSelect .mode-btn:nth-child(1) .star-row .star-filled * {
  fill: #ffe066 !important; /* yellow */
  stroke: #222 !important;
  stroke-width: 0.5px !important;
}
#modeSelect .mode-btn:nth-child(1) .star-row .star-empty,
#modeSelect .mode-btn:nth-child(1) .star-row .star-empty * {
  fill: #fff !important;    /* white */
  stroke: #ccc !important;
  stroke-width: 0.5px !important;
}

/* Orange button (review): glow effect for filled stars, no effect for empty */
#modeSelect .mode-btn:nth-child(2) .star-row .star-filled,
#modeSelect .mode-btn:nth-child(2) .star-row .star-filled * {
  fill: #ffe066 !important; /* yellow */
  stroke: #222 !important;
  stroke-width: 0.5px !important;
}
#modeSelect .mode-btn:nth-child(2) .star-row .star-empty,
#modeSelect .mode-btn:nth-child(2) .star-row .star-empty * {
  fill: #fff !important;    /* white */
  stroke: #ccc !important;
  stroke-width: 0.5px !important;
}

/* Pink button (basic): glow effect for filled stars, no effect for empty */
#modeSelect .mode-btn:nth-child(3) .star-row .star-filled,
#modeSelect .mode-btn:nth-child(3) .star-row .star-filled * {
  fill: #ffe066 !important; /* yellow */
  stroke: #222 !important;
  stroke-width: 0.5px !important;
}
#modeSelect .mode-btn:nth-child(3) .star-row .star-empty,
#modeSelect .mode-btn:nth-child(3) .star-row .star-empty * {
  fill: #fff !important;    /* white */
  stroke: #ccc !important;
  stroke-width: 0.5px !important;
}

/* Blue button (browse): glow effect for filled stars, no effect for empty */
#modeSelect .mode-btn:nth-child(4) .star-row .star-filled,
#modeSelect .mode-btn:nth-child(4) .star-row .star-filled * {
  fill: #ffe066 !important; /* yellow */
  stroke: #222 !important;
  stroke-width: 0.5px !important;
}
#modeSelect .mode-btn:nth-child(4) .star-row .star-empty,
#modeSelect .mode-btn:nth-child(4) .star-row .star-empty * {
  fill: #fff !important;    /* white */
  stroke: #ccc !important;
  stroke-width: 0.5px !important;
}

/* Repeat pattern for buttons 5-8 */
#modeSelect .mode-btn:nth-child(5) .star-row .star-filled,
#modeSelect .mode-btn:nth-child(5) .star-row .star-filled * {
  fill: #ffe066 !important; /* yellow */
  stroke: #222 !important;
  stroke-width: 0.5px !important;
}
#modeSelect .mode-btn:nth-child(5) .star-row .star-empty,
#modeSelect .mode-btn:nth-child(5) .star-row .star-empty * {
  fill: #fff !important;    /* white */
  stroke: #ccc !important;
  stroke-width: 0.5px !important;
}

#modeSelect .mode-btn:nth-child(6) .star-row .star-filled,
#modeSelect .mode-btn:nth-child(6) .star-row .star-filled * {
  fill: #ffe066 !important; /* yellow */
  stroke: #222 !important;
  stroke-width: 0.5px !important;
}
#modeSelect .mode-btn:nth-child(6) .star-row .star-empty,
#modeSelect .mode-btn:nth-child(6) .star-row .star-empty * {
  fill: #fff !important;    /* white */
  stroke: #ccc !important;
  stroke-width: 0.5px !important;
}

#modeSelect .mode-btn:nth-child(7) .star-row .star-filled,
#modeSelect .mode-btn:nth-child(7) .star-row .star-filled * {
  fill: #ffe066 !important; /* yellow */
  stroke: #222 !important;
  stroke-width: 0.5px !important;
}
#modeSelect .mode-btn:nth-child(7) .star-row .star-empty,
#modeSelect .mode-btn:nth-child(7) .star-row .star-empty * {
  fill: #fff !important;    /* white */
  stroke: #ccc !important;
  stroke-width: 0.5px !important;
}

#modeSelect .mode-btn:nth-child(8) .star-row .star-filled,
#modeSelect .mode-btn:nth-child(8) .star-row .star-filled * {
  fill: #ffe066 !important; /* yellow */
  stroke: #222 !important;
  stroke-width: 0.5px !important;
}
#modeSelect .mode-btn:nth-child(8) .star-row .star-empty,
#modeSelect .mode-btn:nth-child(8) .star-row .star-empty * {
  fill: #fff !important;    /* white */
  stroke: #ccc !important;
  stroke-width: 0.5px !important;
}

/* Make mode icons (images) totally white */
#modeSelect .mode-btn .mode-icon img {
  filter: brightness(0) invert(1) !important;
}

/* Per-mode accent border colors */
#modeSelect .mode-btn[data-mode="meaning"] { border-color:#ff6fb0; }
#modeSelect .mode-btn[data-mode="meaning"] .mode-title { color:#21b3be; }
#modeSelect .mode-btn[data-mode="listening"] { border-color:#ff6fb0; }
#modeSelect .mode-btn[data-mode="listening"] .mode-title { color:#21b3be; }
#modeSelect .mode-btn[data-mode="multi_choice"] { border-color:#ff6fb0; }
#modeSelect .mode-btn[data-mode="multi_choice"] .mode-title { color:#21b3be; }
#modeSelect .mode-btn[data-mode="missing_letter"] { border-color:#ff6fb0; }
#modeSelect .mode-btn[data-mode="missing_letter"] .mode-title { color:#21b3be; }
#modeSelect .mode-btn[data-mode="listen_and_spell"] { border-color:#ff6fb0; }
#modeSelect .mode-btn[data-mode="listen_and_spell"] .mode-title { color:#21b3be; }
#modeSelect .mode-btn[data-mode="spelling"] { border-color:#ff6fb0; }
#modeSelect .mode-btn[data-mode="spelling"] .mode-title { color:#21b3be; }
#modeSelect .mode-btn[data-mode="level_up"] { border-color:#ff6fb0; }
#modeSelect .mode-btn[data-mode="level_up"] .mode-title { color:#21b3be; }

/* Tablet two-column scale */
@media (min-width:600px){
  #modeSelect .mode-btn { padding:11px 8px 13px; }
  #modeSelect .mode-btn .mode-icon img { width:55px; height:55px; }
  #modeSelect .mode-btn .mode-title { font-size:0.95rem; }
}
@media (min-width:900px){
  #modeSelect .mode-btn { padding:14px 10px 16px; }
  #modeSelect .mode-btn .mode-icon img { width:65px; height:65px; }
  #modeSelect .mode-btn .mode-title { font-size:1.05rem; }
}
.wa-option span { line-height:1; display:inline-block; vertical-align:bottom; font-family:'Poppins', Arial, sans-serif; }
.wa-option.icon-right { flex-direction: row-reverse; }
.wa-icon { width:153.6px; height:153.6px; flex-shrink:0; max-width:48%; }
.wa-rule { border:0; border-top:2px solid #a9d6e9; margin:6px auto; width:70%; display:none; }
.wa-for-you { color:#21b3be; }
.wa-review { color:#d9923b; }
.wa-basic { color:#ff6fb0; }
.wa-browse { color:#5b7fe5; }

@media (max-width: 450px) {
  .wa-title { font-size: 1.35em; }
  .wa-option { font-size: 1.2rem; }
  .wa-option { gap:32px; }
  .wa-icon { width: 124.8px; height: 124.8px; }
}

/* Tablet and desktop: allow the opening menu card and icons to grow */
@media (min-width: 700px) {
  .wa-card { width: min(85%, 820px); }
  .wa-option { font-size: 2.2rem; gap:32px; padding:28px 12px; }
  .wa-icon { width: 190px; height: 190px; }
}

@media (min-width: 1100px) {
  .wa-card { width: min(70%, 1000px); }
  .wa-option { font-size: 2.6rem; gap:40px; padding:32px 16px; }
  .wa-icon { width: 240px; height: 240px; }
}
header {
  padding: 18px 12px;
  background: #fff;
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
  display: flex;
  flex-direction: column;
  align-items: center;
}
h1 {
  font-size: 2em;
  margin-bottom: 10px;
}
#modeSelect { display:grid; grid-template-columns:repeat(2,1fr); gap:10px; margin:6px auto 6px; padding:6px 6px; width:100%; max-width:1000px; box-sizing:border-box; }
.mode-btn { position:relative; font-size:1.05rem; padding:16px 18px 18px; border-radius:15px; border:2px solid #63a5aa; background:linear-gradient(145deg,#ffffff,#eef7f8); color:#19777e; font-weight:600; box-shadow:0 3px 10px rgba(0,0,0,0.05); cursor:pointer; transition:transform .25s cubic-bezier(.4,2,.3,.7), box-shadow .25s ease, border-color .2s ease, background .3s ease; touch-action:manipulation; letter-spacing:.3px; }
.mode-btn:hover, .mode-btn:focus-visible { transform:translateY(-5px); box-shadow:0 10px 24px -4px rgba(25,119,126,0.25); outline:none; }
.mode-btn:active { transform:translateY(-2px) scale(.97); box-shadow:0 4px 14px rgba(25,119,126,0.25); background:#93cbcf; color:#fff; }
.mode-btn:focus-visible { border-color:#19777e; }

/* Optional accent variations if data-mode present */
.mode-btn[data-mode="review"] { border-color:#5b7fe5; }
.mode-btn[data-mode="review"]:hover { border-color:#3f5fb1; }
.mode-btn[data-mode="basic"] { border-color:#ff6fb0; }
.mode-btn[data-mode="basic"]:hover { border-color:#e45497; }
.mode-btn[data-mode="browse"] { border-color:#d9923b; }
.mode-btn[data-mode="browse"]:hover { border-color:#b97421; }

@media (min-width:600px){
  #modeSelect { grid-template-columns:repeat(2,1fr); max-width:1000px; gap:10px; }
  .mode-btn { font-size:1.1rem; padding:20px 20px 24px; }
}
@media (min-width:900px){
  #modeSelect { gap:10px; max-width:1000px; }
  .mode-btn { font-size:1.25rem; padding:26px 24px 30px; }
}
#gameArea {
  padding: 18px;
  min-height: 300px;
}
#gameArea:empty {
  min-height: 0 !important;
  padding: 0 !important;
}

/* Drag and Drop Game Styles */
.dragdrop-game {
  width: 100%;
  max-width: 800px;
  margin: 0 auto;
}

.dragdrop-container {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin-bottom: 20px;
}

.kor-col, .eng-col {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.kor-target, .eng-card {
  background: #fff;
  border: 2px solid #93cbcf;
  border-radius: 12px;
  padding: 16px;
  text-align: center;
  font-size: 1.25em;
  font-weight: 600;
  height: 80px;
  min-height: 80px;
  max-height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 8px rgba(60,60,80,0.08);
  transition: transform 0.25s ease, background 0.2s ease, color 0.2s ease, box-shadow 0.25s ease, border-color 0.2s ease;
  box-sizing: border-box;
}

/* Strong visual feedback when selected/matching */
.eng-card.selected {
  background: #f59e0b;
  color: #fff;
  border-color: #f59e0b;
  transform: scale(1.08) translateY(-4px);
  box-shadow: 0 10px 24px rgba(245,158,11,0.25);
}

.kor-target.pending-match {
  background: #93cbcf;
  color: #fff;
  border-color: #19777e;
  transform: scale(1.08) translateY(-4px);
  box-shadow: 0 10px 24px rgba(25,119,126,0.22);
}

.kor-target {
  background: #e0f7fa;
  border-color: #93cbcf;
  color: #333;
}

.eng-card {
  background: #fff3cd;
  border-color: #f59e0b;
  color: #f59e0b;
  cursor: pointer;
  user-select: none;
  touch-action: manipulation;
}

.eng-card:active {
  cursor: grabbing;
}

.eng-card.dragging {
  opacity: 0.5;
  transform: rotate(3deg);
}

.kor-target.dragover {
  background: #b3e5fc;
  border-color: #f59e0b;
  transform: scale(1.05);
}

.kor-target.matched {
  background: #c8e6c9;
  border-color: #4caf50;
}

.eng-card.matched {
  background: #c8e6c9;
  border-color: #4caf50;
  opacity: 0.7;
}

/* Wrong feedback */
.eng-card.wrong, .kor-target.wrong {
  background: #fde8e8;
  border-color: #e53e3e;
  color: #e53e3e;
}

/* Particle explosion animation */
.particle-explosion {
  pointer-events: none;
  position: absolute;
  z-index: 10;
}
.particle {
  position: absolute;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  opacity: 1;
  transition: transform 0.6s cubic-bezier(.4,2,.3,.7), opacity 0.7s;
}

/* Mobile Optimizations */
@media (max-width: 700px) {
  h1 { font-size: 1.3em; }
  .mode-btn { font-size: 1em; padding: 12px 18px; }
  #gameArea { padding: 8px; }
  
  .dragdrop-container {
    gap: 16px;
  }
  
  .kor-target, .eng-card {
    padding: 14px;
  font-size: 1.15em;
    height: 70px;
    min-height: 70px;
    max-height: 70px;
  }
}

@media (max-width: 500px) {
  .dragdrop-container {
    gap: 12px;
  }
  
  .kor-target, .eng-card {
    padding: 12px;
  font-size: 1em;
    height: 56px;
    min-height: 56px;
    max-height: 56px;
  }
}

/* Playful ABC letters with individual colors */
.abc-playful {
  font-size: clamp(5rem, 24vw, 5rem);
  line-height: 0.9;
  white-space: nowrap;
  font-weight: 900;
  letter-spacing: 6px;
  display: flex;
  justify-content: center;
  gap: 4px;
  font-family: 'Poppins', Arial, sans-serif;
}

.abc-playful span {
  display: inline-block;
  font-size: clamp(6rem, 15vw, 10rem) !important;
  font-weight: 900 !important;
  letter-spacing: inherit;
  line-height: 0.9;
}

/* === Overrides: Make mode selector borders invisible + hide JS dividers === */
/* Remove card borders inside #modeSelect regardless of data-mode accents */
#modeSelect .mode-btn,
#modeSelect .mode-btn:hover,
#modeSelect .mode-btn:active,
#modeSelect .mode-btn:focus-visible,
#modeSelect .mode-btn[data-mode],
#modeSelect .mode-btn[data-mode]:hover {
  /* Keep rounded corners but allow visible borders set above */
  border-radius: 20px !important;
}
/* Prevent focus from re-introducing a border color */
#modeSelect .mode-btn:focus-visible { outline: none; box-shadow: 0 10px 26px -4px rgba(25,119,126,0.25); }

/* Hide the row divider from the JS-injected mode list variant (.mode-grid) */
.mode-grid .mode-btn::after { background: transparent !important; height: 0 !important; }
html.dark .mode-grid .mode-btn::after { background: transparent !important; height: 0 !important; }
