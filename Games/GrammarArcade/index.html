<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Grammar Arcade | 문법 오락실</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <!-- Your header web component -->
  <script defer src="/students/components/student-header.js"></script>
  <link rel="stylesheet" href="../Word Arcade/style.css?v=20251019d" />
  <link rel="stylesheet" href="./style.css?v=20251101d" />
  <link rel="stylesheet" href="./modes/choose_mode.css?v=20251101a" />
  <link rel="stylesheet" href="/students/theme.css" />
</head>
<body class="word-arcade grammar-arcade">
  <student-header title="" show-home="false" home-href="/students/dashboard.html" home-label="Home" data-i18n="Home" style="--header-bg: #2a3842; --header-border: #3a4a56;">
  <div slot="actions" class="logo-crop">
    <img class="logo-img" src="assets/Images/icons/grammar-arcade.svg" alt="Grammar Arcade" />
  </div>
  <a slot="menu-item" id="tabWordArcade" class="wa-menu-btn wa-tab" href="#" data-i18n="Word Arcade">Word Arcade</a>
  <a slot="menu-item" id="tabGrammarArcade" class="wa-menu-btn wa-tab active" href="#" data-i18n="Grammar Arcade">Grammar Arcade</a>
  </student-header>

  <main class="notranslate" translate="no">
    <div id="openingButtons" class="wa-card notranslate" translate="no">
      <button id="grammarGamesBtn" class="wa-option wa-option-card wa-basic" type="button">
        <img src="../Word Arcade/assets/Images/icons/target.svg" alt="Grammar Games" class="wa-icon" loading="lazy" decoding="async" draggable="false"/>
        <span data-i18n="Grammar Games">Grammar Games</span>
      </button>
      <button id="grammarReviewBtn" class="wa-option wa-option-card wa-review" type="button">
        <img src="../Word Arcade/assets/Images/icons/rainbow.svg" alt="Review" class="wa-icon" loading="lazy" decoding="async" draggable="false" />
        <span data-i18n="Review">Review</span>
      </button>
      <button id="grammarAssignmentsBtn" class="wa-option wa-option-card wa-for-you" type="button">
        <img src="../Word Arcade/assets/Images/icons/questions.svg" alt="Your Homework" class="wa-icon" loading="lazy" decoding="async" draggable="false" />
        <span data-i18n="Your Homework">Your Homework</span>
      </button>
      <button id="grammarBrowseBtn" class="wa-option wa-option-card wa-browse" type="button">
        <img src="../Word Arcade/assets/Images/icons/review.png" alt="Discover" class="wa-icon" loading="lazy" decoding="async" draggable="false" />
        <span data-i18n="Discover">Discover</span>
      </button>
    </div>

    <section id="gameArea" class="notranslate" translate="no"></section>

    <!-- Generic Coming Soon Modal -->
    <div id="comingSoonModal" class="ga-modal">
      <div class="ga-modal-content coming-soon">
        <img src="../Word Arcade/assets/Images/icons/for you.png?v=20250910a" alt="Coming Soon" class="ga-modal-icon" />
        <div class="ga-modal-title">Coming Soon</div>
        <div class="ga-modal-description">This feature is not yet available.<br>Check back soon!</div>
        <button id="closeComingSoon" class="ga-modal-btn">OK</button>
      </div>
    </div>

    <!-- Grammar Games Placeholder Modal -->
    <div id="grammarGamesModal" class="ga-modal">
      <div class="ga-modal-content grammar-games">
        <div class="ga-modal-title">Grammar Games</div>
        <div class="ga-modal-description">Skeleton is ready. We'll add games here soon.</div>
        <button id="closeGrammarModal" class="ga-modal-btn">Close</button>
      </div>
    </div>
  </main>

  <!-- Load Choose Mode Engine -->
  <script src="./modes/choose_mode.js?v=20251101a"></script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const $ = (sel) => document.querySelector(sel);
      const tabWordArcade = $('#tabWordArcade');
      const tabGrammarArcade = $('#tabGrammarArcade');
      if (tabWordArcade) tabWordArcade.addEventListener('click', (e) => { e.preventDefault(); window.location.href = '/Games/Word Arcade/index.html'; });
      if (tabGrammarArcade) tabGrammarArcade.addEventListener('click', (e) => { e.preventDefault(); });

      // Patch student-header Shadow DOM to use bluish grey header with persistence
      const patchHeader = () => {
        const hdr = $('student-header');
        if (hdr && hdr.shadowRoot) {
          let styleEl = hdr.shadowRoot.querySelector('style[data-grammar-arcade]');
          if (!styleEl) {
            styleEl = document.createElement('style');
            styleEl.setAttribute('data-grammar-arcade', 'true');
            styleEl.textContent = `
              header { background: #2a3842 !important; border-bottom-color: #3a4a56 !important; }
              ::slotted(.menu-item) { color: #e6fdff !important; }
              ::slotted(.menu-item.active) { color: #93cbcf !important; }
              ::slotted(.menu-item:hover) { background: #334454 !important; }
            `;
            hdr.shadowRoot.appendChild(styleEl);
          }
          // Also force the header element's inline style
          const headerEl = hdr.shadowRoot.querySelector('header');
          if (headerEl) {
            headerEl.style.background = '#2a3842';
            headerEl.style.borderBottomColor = '#3a4a56';
          }
        }
      };
      // Patch immediately and then again after render
      patchHeader();
      setTimeout(patchHeader, 100);
      setTimeout(patchHeader, 300);

      // Watch for re-renders and re-patch if needed
      const hdr = $('student-header');
      if (hdr && hdr.shadowRoot) {
        const observer = new MutationObserver(() => {
          patchHeader();
        });
        observer.observe(hdr.shadowRoot, { childList: true, subtree: true, attributes: true });
      }

      // Coming soon modal for other cards
      const showSoon = () => { const m = $('#comingSoonModal'); if (m) m.classList.add('open'); };
      const closeSoon = () => { const m = $('#comingSoonModal'); if (m) m.classList.remove('open'); };
      const csClose = document.getElementById('closeComingSoon');
      if (csClose) csClose.addEventListener('click', closeSoon);

      const openingButtons = document.getElementById('openingButtons');
      const originalOpeningButtonsHTML = openingButtons ? openingButtons.innerHTML : '';

      function renderOpeningMenu() {
        if (!openingButtons) return;
        openingButtons.innerHTML = originalOpeningButtonsHTML;
        wireOpeningButtons();
      }

      function showGrammarLevelsPage() {
        if (!openingButtons) return;
        const pink = '#ff6fb0';
        const cyan = '#5b9fd3';
        const brightCyan = '#39cfe0';
        const orange = '#d9923b';
        const blue = '#5b7fe5';
        openingButtons.innerHTML = `
          <button class="wa-option wa-option-card wa-level-1 wa-level-inactive" type="button" style="border-color:${pink};">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="400" zoomAndPan="magnify" viewBox="0 0 300 112.499997" height="150" preserveAspectRatio="xMidYMid meet" version="1.0" class="wa-icon"><defs><clipPath id="5d2d6f092a"><path d="M 236 38 L 296.976562 38 L 296.976562 96 L 236 96 Z M 236 38 " clip-rule="nonzero"/></clipPath></defs><path fill="#ff66c4" d="M 27.546875 42.265625 C 20.074219 49.652344 26.847656 65.144531 27.546875 66.6875 C 34.214844 81.457031 49.328125 87.457031 57.589844 90.667969 C 70.5625 95.707031 83.773438 96.71875 84.328125 94.855469 C 84.878906 93.007812 71.914062 91.855469 63.449219 81.503906 C 51.71875 67.171875 61.417969 50.699219 50.503906 42.265625 C 43.960938 37.210938 32.847656 37.027344 27.546875 42.265625 Z M 27.546875 42.265625 " fill-opacity="1" fill-rule="nonzero"/><path fill="#0cc0df" d="M 47.320312 38.660156 C 44.613281 37.503906 41.546875 36.871094 38.449219 36.871094 C 36.117188 36.871094 33.917969 37.222656 31.902344 37.914062 C 30.980469 38.226562 30.125 38.605469 29.328125 39.050781 C 29.492188 37.957031 29.890625 36.796875 30.679688 35.691406 C 32.617188 32.984375 35.589844 32.449219 36.199219 32.355469 C 36.824219 28.050781 36.796875 22.957031 33.710938 20.023438 C 31.105469 17.546875 27.375 17.617188 27.445312 17.09375 C 27.53125 16.449219 33.371094 15.28125 37.355469 18.152344 C 41.054688 20.8125 42.453125 26.441406 40.863281 32.285156 C 41.902344 32.414062 43.4375 32.785156 44.78125 33.921875 C 46.144531 35.070312 47.007812 36.746094 47.320312 38.660156 Z M 47.320312 38.660156 " fill-opacity="1" fill-rule="nonzero"/><path fill="#ff66c4" d="M 91.496094 39.378906 C 95.773438 39.378906 99.953125 40.710938 102.957031 43.035156 C 108.003906 46.933594 108.34375 52.757812 108.734375 59.5 C 109.148438 66.589844 109.617188 74.628906 115.746094 82.121094 C 121.410156 89.046875 128.921875 91.933594 133.410156 93.65625 C 134.285156 93.992188 135.042969 94.28125 135.609375 94.539062 C 135.667969 94.566406 135.722656 94.589844 135.773438 94.613281 C 135.339844 94.6875 134.679688 94.753906 133.699219 94.753906 C 131.132812 94.753906 127.652344 94.328125 123.902344 93.554688 C 119.542969 92.660156 115.078125 91.347656 110.992188 89.761719 C 107.105469 88.25 101.234375 85.96875 95.558594 82.203125 C 92.535156 80.195312 89.878906 77.957031 87.65625 75.554688 C 85.074219 72.757812 82.996094 69.640625 81.484375 66.289062 C 81.128906 65.5 79.308594 61.324219 78.492188 56.503906 C 78.027344 53.753906 77.964844 51.273438 78.308594 49.136719 C 78.71875 46.582031 79.71875 44.503906 81.28125 42.957031 C 83.582031 40.683594 87.304688 39.378906 91.496094 39.378906 M 91.496094 38.40625 C 87.277344 38.40625 83.226562 39.671875 80.597656 42.265625 C 73.125 49.652344 79.898438 65.144531 80.597656 66.6875 C 87.265625 81.460938 102.378906 87.460938 110.640625 90.667969 C 119.652344 94.167969 128.78125 95.726562 133.699219 95.726562 C 135.859375 95.726562 137.207031 95.425781 137.378906 94.859375 C 137.929688 93.011719 124.964844 91.855469 116.5 81.503906 C 104.769531 67.171875 114.46875 50.699219 103.554688 42.265625 C 100.253906 39.714844 95.789062 38.40625 91.496094 38.40625 Z M 91.496094 38.40625 " fill-opacity="1" fill-rule="nonzero"/><path fill="#0cc0df" d="M 84.082031 17.277344 C 85.371094 17.277344 87.828125 17.492188 89.835938 18.941406 C 91.460938 20.109375 92.625 21.949219 93.199219 24.257812 C 93.789062 26.636719 93.710938 29.324219 92.976562 32.03125 L 92.679688 33.113281 L 93.796875 33.253906 C 95.140625 33.417969 96.289062 33.890625 97.203125 34.664062 C 97.949219 35.292969 98.53125 36.113281 98.925781 37.078125 C 96.5625 36.304688 94.027344 35.898438 91.496094 35.898438 C 88.960938 35.898438 86.75 36.265625 84.636719 36.992188 C 84.398438 37.070312 84.164062 37.15625 83.933594 37.246094 C 84.101562 36.902344 84.296875 36.570312 84.519531 36.257812 C 86.144531 33.984375 88.664062 33.429688 89.398438 33.316406 L 90.105469 33.203125 L 90.210938 32.492188 C 91.105469 26.355469 90.171875 21.921875 87.429688 19.316406 C 86.371094 18.308594 85.171875 17.6875 84.074219 17.277344 C 84.078125 17.277344 84.078125 17.277344 84.082031 17.277344 M 84.082031 16.304688 C 82.066406 16.304688 80.539062 16.765625 80.492188 17.09375 C 80.421875 17.617188 84.152344 17.542969 86.757812 20.023438 C 89.84375 22.953125 89.875 28.046875 89.246094 32.351562 C 88.636719 32.449219 85.664062 32.980469 83.730469 35.691406 C 82.941406 36.796875 82.542969 37.957031 82.375 39.046875 C 83.171875 38.605469 84.03125 38.226562 84.953125 37.910156 C 86.964844 37.222656 89.164062 36.871094 91.496094 36.871094 C 94.597656 36.871094 97.660156 37.5 100.371094 38.65625 C 100.058594 36.746094 99.191406 35.070312 97.832031 33.917969 C 96.484375 32.785156 94.949219 32.410156 93.914062 32.285156 C 95.503906 26.4375 94.101562 20.8125 90.40625 18.148438 C 88.441406 16.738281 86.035156 16.304688 84.082031 16.304688 Z M 84.082031 16.304688 " fill-opacity="1" fill-rule="nonzero"/><path fill="#ff66c4" d="M 144.546875 39.378906 C 148.824219 39.378906 153 40.710938 156.007812 43.035156 C 161.054688 46.933594 161.394531 52.757812 161.785156 59.5 C 162.199219 66.589844 162.664062 74.628906 168.792969 82.121094 C 174.460938 89.046875 181.972656 91.933594 186.460938 93.65625 C 187.335938 93.992188 188.09375 94.28125 188.660156 94.539062 C 188.71875 94.566406 188.773438 94.589844 188.824219 94.613281 C 188.390625 94.6875 187.730469 94.753906 186.75 94.753906 C 184.183594 94.753906 180.703125 94.328125 176.949219 93.554688 C 172.59375 92.660156 168.128906 91.347656 164.042969 89.761719 C 160.15625 88.25 154.285156 85.96875 148.609375 82.203125 C 145.585938 80.195312 142.925781 77.957031 140.707031 75.554688 C 138.125 72.757812 136.046875 69.640625 134.535156 66.289062 C 134.175781 65.5 132.359375 61.324219 131.542969 56.503906 C 131.074219 53.753906 131.011719 51.273438 131.355469 49.136719 C 131.769531 46.582031 132.769531 44.503906 134.332031 42.957031 C 136.632812 40.683594 140.355469 39.378906 144.546875 39.378906 M 144.546875 38.40625 C 140.328125 38.40625 136.273438 39.671875 133.648438 42.265625 C 126.175781 49.652344 132.949219 65.144531 133.648438 66.6875 C 140.316406 81.460938 155.425781 87.460938 163.691406 90.667969 C 172.703125 94.167969 181.832031 95.726562 186.75 95.726562 C 188.910156 95.726562 190.257812 95.425781 190.429688 94.859375 C 190.980469 93.011719 178.015625 91.855469 169.546875 81.503906 C 157.820312 67.171875 167.519531 50.699219 156.605469 42.265625 C 153.304688 39.714844 148.839844 38.40625 144.546875 38.40625 Z M 144.546875 38.40625 " fill-opacity="1" fill-rule="nonzero"/><path fill="#0cc0df" d="M 137.132812 17.277344 C 138.417969 17.277344 140.878906 17.492188 142.886719 18.941406 C 144.511719 20.109375 145.671875 21.949219 146.246094 24.257812 C 146.835938 26.636719 146.761719 29.324219 146.023438 32.03125 L 145.730469 33.113281 L 146.84375 33.253906 C 148.191406 33.417969 149.339844 33.890625 150.253906 34.664062 C 151 35.292969 151.582031 36.113281 151.976562 37.078125 C 149.613281 36.304688 147.078125 35.898438 144.546875 35.898438 C 142.011719 35.898438 139.800781 36.265625 137.6875 36.992188 C 137.449219 37.070312 137.214844 37.15625 136.984375 37.246094 C 137.148438 36.902344 137.34375 36.570312 137.570312 36.257812 C 139.195312 33.984375 141.714844 33.429688 142.449219 33.316406 L 143.15625 33.203125 L 143.261719 32.492188 C 144.15625 26.355469 143.21875 21.921875 140.480469 19.316406 C 139.421875 18.308594 138.21875 17.6875 137.125 17.277344 C 137.125 17.277344 137.128906 17.277344 137.132812 17.277344 M 137.132812 16.304688 C 135.117188 16.304688 133.585938 16.765625 133.542969 17.09375 C 133.472656 17.617188 137.203125 17.542969 139.808594 20.023438 C 142.894531 22.953125 142.921875 28.046875 142.296875 32.351562 C 141.6875 32.449219 138.714844 32.980469 136.777344 35.691406 C 135.988281 36.796875 135.589844 37.957031 135.425781 39.046875 C 136.222656 38.605469 137.082031 38.226562 138 37.910156 C 140.015625 37.222656 142.214844 36.871094 144.546875 36.871094 C 147.644531 36.871094 150.710938 37.5 153.417969 38.65625 C 153.109375 36.746094 152.242188 35.070312 150.878906 33.917969 C 149.535156 32.785156 148 32.410156 146.964844 32.285156 C 148.554688 26.4375 147.152344 20.8125 143.453125 18.148438 C 141.492188 16.738281 139.082031 16.304688 137.132812 16.304688 Z M 137.132812 16.304688 " fill-opacity="1" fill-rule="nonzero"/><path fill="#ff66c4" d="M 197.597656 39.378906 C 201.875 39.378906 206.050781 40.710938 209.058594 43.035156 C 214.105469 46.933594 214.441406 52.757812 214.835938 59.5 C 215.246094 66.589844 215.714844 74.628906 221.84375 82.121094 C 227.511719 89.046875 235.023438 91.933594 239.511719 93.65625 C 240.386719 93.992188 241.140625 94.28125 241.710938 94.539062 C 241.769531 94.566406 241.824219 94.589844 241.875 94.613281 C 241.4375 94.6875 240.777344 94.753906 239.796875 94.753906 C 237.234375 94.753906 233.753906 94.328125 230 93.554688 C 225.640625 92.660156 221.179688 91.347656 217.09375 89.761719 C 213.207031 88.25 207.335938 85.96875 201.660156 82.203125 C 198.636719 80.195312 195.976562 77.957031 193.757812 75.554688 C 191.175781 72.757812 189.097656 69.640625 187.585938 66.289062 C 187.226562 65.5 185.410156 61.324219 184.59375 56.503906 C 184.125 53.753906 184.0625 51.273438 184.40625 49.136719 C 184.820312 46.582031 185.820312 44.503906 187.382812 42.957031 C 189.683594 40.683594 193.40625 39.378906 197.597656 39.378906 M 197.597656 38.40625 C 193.378906 38.40625 189.324219 39.671875 186.699219 42.265625 C 179.226562 49.652344 186 65.144531 186.699219 66.6875 C 193.367188 81.460938 208.476562 87.460938 216.742188 90.667969 C 225.753906 94.167969 234.882812 95.726562 239.800781 95.726562 C 241.960938 95.726562 243.308594 95.425781 243.480469 94.859375 C 244.03125 93.011719 231.066406 91.855469 222.597656 81.503906 C 210.871094 67.171875 220.570312 50.699219 209.65625 42.265625 C 206.355469 39.714844 201.890625 38.40625 197.597656 38.40625 Z M 197.597656 38.40625 " fill-opacity="1" fill-rule="nonzero"/><path fill="#0cc0df" d="M 190.183594 17.277344 C 191.46875 17.277344 193.925781 17.492188 195.9375 18.941406 C 197.5625 20.109375 198.722656 21.949219 199.296875 24.257812 C 199.886719 26.636719 199.808594 29.324219 199.074219 32.03125 L 198.78125 33.113281 L 199.894531 33.253906 C 201.242188 33.417969 202.386719 33.890625 203.300781 34.664062 C 204.046875 35.292969 204.628906 36.113281 205.027344 37.078125 C 202.664062 36.304688 200.128906 35.898438 197.59375 35.898438 C 195.0625 35.898438 192.851562 36.265625 190.734375 36.992188 C 190.5 37.070312 190.265625 37.15625 190.035156 37.246094 C 190.199219 36.902344 190.394531 36.570312 190.621094 36.257812 C 192.246094 33.984375 194.765625 33.429688 195.496094 33.316406 L 196.207031 33.203125 L 196.308594 32.492188 C 197.203125 26.355469 196.269531 21.921875 193.53125 19.316406 C 192.472656 18.308594 191.269531 17.6875 190.175781 17.277344 C 190.175781 17.277344 190.179688 17.277344 190.179688 17.277344 M 190.179688 16.304688 C 188.164062 16.304688 186.636719 16.765625 186.59375 17.09375 C 186.523438 17.617188 190.253906 17.542969 192.859375 20.023438 C 195.941406 22.953125 195.972656 28.046875 195.347656 32.351562 C 194.734375 32.449219 191.765625 32.980469 189.828125 35.691406 C 189.039062 36.796875 188.640625 37.957031 188.476562 39.046875 C 189.269531 38.605469 190.128906 38.226562 191.050781 37.910156 C 193.0625 37.222656 195.265625 36.871094 197.59375 36.871094 C 200.695312 36.871094 203.761719 37.5 206.46875 38.65625 C 206.15625 36.746094 205.292969 35.070312 203.929688 33.917969 C 202.585938 32.785156 201.050781 32.410156 200.011719 32.285156 C 201.601562 26.4375 200.199219 20.8125 196.503906 18.148438 C 194.542969 16.738281 192.132812 16.304688 190.179688 16.304688 Z M 190.179688 16.304688 " fill-opacity="1" fill-rule="nonzero"/><g clip-path="url(#5d2d6f092a)"><path fill="#ff66c4" d="M 250.644531 39.378906 C 254.921875 39.378906 259.101562 40.710938 262.109375 43.035156 C 267.152344 46.933594 267.492188 52.757812 267.886719 59.5 C 268.296875 66.589844 268.765625 74.628906 274.894531 82.121094 C 280.5625 89.046875 288.074219 91.933594 292.5625 93.65625 C 293.4375 93.992188 294.191406 94.28125 294.761719 94.539062 C 294.820312 94.566406 294.871094 94.589844 294.925781 94.613281 C 294.488281 94.6875 293.828125 94.753906 292.847656 94.753906 C 290.285156 94.753906 286.804688 94.328125 283.050781 93.554688 C 278.691406 92.660156 274.230469 91.347656 270.140625 89.761719 C 266.257812 88.25 260.382812 85.96875 254.710938 82.203125 C 251.6875 80.195312 249.027344 77.957031 246.808594 75.554688 C 244.222656 72.757812 242.148438 69.640625 240.632812 66.289062 C 240.277344 65.5 238.460938 61.324219 237.644531 56.503906 C 237.175781 53.753906 237.113281 51.273438 237.457031 49.136719 C 237.871094 46.582031 238.871094 44.503906 240.433594 42.957031 C 242.734375 40.683594 246.457031 39.378906 250.648438 39.378906 M 250.648438 38.40625 C 246.429688 38.40625 242.375 39.671875 239.746094 42.265625 C 232.277344 49.652344 239.050781 65.144531 239.746094 66.6875 C 246.417969 81.460938 261.527344 87.460938 269.789062 90.667969 C 278.804688 94.167969 287.929688 95.726562 292.851562 95.726562 C 295.011719 95.726562 296.359375 95.425781 296.527344 94.859375 C 297.082031 93.011719 284.117188 91.855469 275.648438 81.503906 C 263.921875 67.171875 273.617188 50.699219 262.703125 42.265625 C 259.40625 39.714844 254.941406 38.40625 250.648438 38.40625 Z M 250.648438 38.40625 " fill-opacity="1" fill-rule="nonzero"/></g><path fill="#0cc0df" d="M 243.234375 17.277344 C 244.519531 17.277344 246.976562 17.492188 248.988281 18.941406 C 250.613281 20.109375 251.773438 21.949219 252.347656 24.257812 C 252.9375 26.636719 252.859375 29.324219 252.125 32.03125 L 251.828125 33.113281 L 252.945312 33.253906 C 254.292969 33.417969 255.4375 33.890625 256.351562 34.664062 C 257.097656 35.292969 257.679688 36.113281 258.074219 37.078125 C 255.710938 36.304688 253.179688 35.898438 250.644531 35.898438 C 248.113281 35.898438 245.898438 36.265625 243.785156 36.992188 C 243.546875 37.070312 243.316406 37.15625 243.082031 37.246094 C 243.25 36.902344 243.445312 36.570312 243.671875 36.257812 C 245.292969 33.984375 247.8125 33.429688 248.546875 33.316406 L 249.257812 33.203125 L 249.359375 32.492188 C 250.253906 26.355469 249.320312 21.921875 246.582031 19.316406 C 245.519531 18.308594 244.320312 17.6875 243.222656 17.277344 C 243.226562 17.277344 243.230469 17.277344 243.230469 17.277344 M 243.230469 16.304688 C 241.214844 16.304688 239.6875 16.765625 239.640625 17.09375 C 239.570312 17.617188 243.304688 17.542969 245.910156 20.023438 C 248.992188 22.953125 249.023438 28.046875 248.394531 32.351562 C 247.785156 32.449219 244.8125 32.980469 242.878906 35.691406 C 242.089844 36.796875 241.691406 37.957031 241.527344 39.046875 C 242.320312 38.605469 243.179688 38.226562 244.101562 37.910156 C 246.113281 37.222656 248.316406 36.871094 250.644531 36.871094 C 253.746094 36.871094 256.8125 37.5 259.519531 38.65625 C 259.207031 36.746094 258.339844 35.070312 256.980469 33.917969 C 255.632812 32.785156 254.101562 32.410156 253.0625 32.285156 C 254.652344 26.4375 253.25 20.8125 249.554688 18.148438 C 247.59375 16.738281 245.183594 16.304688 243.230469 16.304688 Z M 243.230469 16.304688 " fill-opacity="1" fill-rule="nonzero"/></svg>
            <span style="color:${pink};">Level 1</span>
          </button>
          <button class="wa-option wa-option-card wa-level-2 wa-level-inactive" type="button" style="border-color:${brightCyan};">
            <span style="color:${brightCyan};">Level 2</span>
          </button>
          <button class="wa-option wa-option-card wa-level-3 wa-level-inactive" type="button" style="border-color:${orange};">
            <span style="color:${orange};">Level 3</span>
          </button>
          <button class="wa-option wa-option-card wa-level-4 wa-level-inactive" type="button" style="border-color:${blue};">
            <span style="color:${blue};">Level 4</span>
          </button>
          <button class="wa-option wa-option-card wa-level-5 wa-level-inactive" type="button" style="border-color:${pink};">
            <span style="color:${pink};">Level 5</span>
          </button>
          <button id="gaLevelsBackBtn" class="wa-option wa-option-card wa-back" type="button" style="border-color:${pink}; height:auto; min-height:auto; padding:8px 8px 10px;">
            <span style="color:${pink}; font-size:0.8rem;">← Back</span>
          </button>
        `;
        // Back restores opening
        document.getElementById('gaLevelsBackBtn')?.addEventListener('click', (e) => { e.preventDefault(); renderOpeningMenu(); });
      }

      function wireOpeningButtons() {
        const gCard = document.getElementById('grammarGamesBtn');
        const rCard = document.getElementById('grammarReviewBtn');
        const aCard = document.getElementById('grammarAssignmentsBtn');
        const bCard = document.getElementById('grammarBrowseBtn');
        if (gCard) gCard.addEventListener('click', showGrammarLevelsPage);
        if (rCard) rCard.addEventListener('click', showSoon);
        if (aCard) aCard.addEventListener('click', showSoon);
        if (bCard) bCard.addEventListener('click', showSoon);
      }

      // Initial wiring
      wireOpeningButtons();
    });
  </script>
</body>
</html>
